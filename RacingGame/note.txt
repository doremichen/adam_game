ğŸ§© æ¶æ§‹ç¸½è¦½ï¼ˆMVVMï¼‰

Modelï¼šéŠæˆ²é‚è¼¯ã€è³‡æ–™å„²å­˜ï¼ˆå¦‚åˆ†æ•¸ã€æ’è¡Œæ¦œã€è¨­å®šï¼‰
ViewModelï¼šæ©‹æ¥ UI èˆ‡ Modelï¼Œè™•ç†ç‹€æ…‹èˆ‡äº‹ä»¶
Viewï¼ˆActivity/Fragmentï¼‰ï¼šé¡¯ç¤º UIï¼Œæ¥æ”¶ä½¿ç”¨è€…è¼¸å…¥


ğŸ“¦ å¥—ä»¶çµæ§‹å»ºè­°
Plain Textcom.example.racinggameâ”‚â”œâ”€â”€ modelâ”‚   â”œâ”€â”€ Car.javaâ”‚   â”œâ”€â”€ GameState.javaâ”‚   â”œâ”€â”€ Score.javaâ”‚   â””â”€â”€ Settings.javaâ”‚â”œâ”€â”€ viewmodelâ”‚   â”œâ”€â”€ GameViewModel.javaâ”‚   â”œâ”€â”€ ScoreViewModel.javaâ”‚   â””â”€â”€ SettingsViewModel.javaâ”‚â”œâ”€â”€ viewâ”‚   â”œâ”€â”€ MainActivity.javaâ”‚   â”œâ”€â”€ GameFragment.javaâ”‚   â”œâ”€â”€ LeaderboardFragment.javaâ”‚   â””â”€â”€ SettingsFragment.javaâ”‚â”œâ”€â”€ repositoryâ”‚   â”œâ”€â”€ ScoreRepository.javaâ”‚   â””â”€â”€ SettingsRepository.javaâ”‚â””â”€â”€ util    â”œâ”€â”€ CollisionDetector.java    â””â”€â”€ SensorController.javaé¡¯ç¤ºæ›´å¤šè¡Œ

ğŸ® Use Case å°æ‡‰è¨­è¨ˆ
UC01 - é–‹å§‹éŠæˆ²

Viewï¼šMainActivity â†’ GameFragment
ViewModelï¼šGameViewModel
æµç¨‹ï¼š

é»æ“Šã€Œé–‹å§‹éŠæˆ²ã€â†’ GameViewModel.startGame()
è¼‰å…¥åœ°åœ–èˆ‡è³‡æº â†’ é¡¯ç¤ºå€’æ•¸ â†’ é–‹å§‹éŠæˆ²å¾ªç’°



UC02 - æ§åˆ¶è³½è»Š

Viewï¼šGameFragmentï¼ˆæŒ‰éˆ•æˆ–æ„Ÿæ‡‰å™¨ï¼‰
ViewModelï¼šGameViewModel
Modelï¼šCar.java
æ“´å……ï¼šSensorController è™•ç†åŠ é€Ÿåº¦æ„Ÿæ‡‰å™¨è¼¸å…¥

UC03 - åµæ¸¬ç¢°æ’

ViewModelï¼šGameViewModel
Utilï¼šCollisionDetector
æµç¨‹ï¼š

æ¯ frame æª¢æŸ¥ç¢°æ’ â†’ æ›´æ–°ç”Ÿå‘½å€¼æˆ–é€Ÿåº¦ â†’ åˆ¤æ–·æ˜¯å¦è§¸ç™¼ UC05



UC04 - è¨ˆç®—åˆ†æ•¸

ViewModelï¼šScoreViewModel
Modelï¼šScore.java
æµç¨‹ï¼š

æ ¹æ“šè·é›¢æˆ–æ“Šæ•—æ•µè»Šæ›´æ–°åˆ†æ•¸ â†’ LiveData æ¨é€è‡³ UI



UC05 - éŠæˆ²çµæŸ

ViewModelï¼šGameViewModel
æµç¨‹ï¼š

åˆ¤æ–·ç”Ÿå‘½æ­¸é›¶æˆ–å®Œæˆè³½é“ â†’ é¡¯ç¤º Game Over ç•«é¢ â†’ æä¾›é‡æ–°é–‹å§‹æˆ–è¿”å›ä¸»ç•«é¢é¸é …



UC06 - æ’è¡Œæ¦œ

Viewï¼šLeaderboardFragment
ViewModelï¼šScoreViewModel
Repositoryï¼šScoreRepositoryï¼ˆRoom æˆ– Firebaseï¼‰
æµç¨‹ï¼š

è®€å–æ­·å²åˆ†æ•¸ â†’ é¡¯ç¤ºæ’è¡Œæ¦œåˆ—è¡¨



UC07 - è¨­å®š

Viewï¼šSettingsFragment
ViewModelï¼šSettingsViewModel
Repositoryï¼šSettingsRepositoryï¼ˆSharedPreferencesï¼‰
æµç¨‹ï¼š

èª¿æ•´éŸ³é‡ã€æ§åˆ¶æ¨¡å¼ã€é›£åº¦ â†’ å„²å­˜åå¥½è¨­å®š




ğŸ›  æŠ€è¡“å»ºè­°

ç•«é¢æ›´æ–°ï¼šä½¿ç”¨ SurfaceView æˆ– Canvas ç¹ªè£½è³½è»Šèˆ‡åœ°åœ–
æ„Ÿæ‡‰å™¨æ§åˆ¶ï¼šä½¿ç”¨ SensorManager è™•ç†åŠ é€Ÿåº¦æ„Ÿæ‡‰å™¨
è³‡æ–™å„²å­˜ï¼š

åˆ†æ•¸èˆ‡æ’è¡Œæ¦œï¼šRoom æˆ– Firebase
è¨­å®šï¼šSharedPreferences


å€’æ•¸è¨ˆæ™‚ï¼šä½¿ç”¨ CountDownTimer
éŠæˆ²å¾ªç’°ï¼šä½¿ç”¨ Handler æˆ– GameLoopThread


å¦‚æœä½ å¸Œæœ›æˆ‘å¹«ä½ ç”ŸæˆæŸå€‹ Use Case çš„å…·é«”ç¨‹å¼ç¢¼ç¯„ä¾‹ï¼ˆä¾‹å¦‚ UC01 çš„é–‹å§‹éŠæˆ²æµç¨‹ï¼‰ï¼Œæˆ–æ˜¯ç•«å‡ºæ•´é«”æµç¨‹åœ–ã€é¡åˆ¥åœ–ã€æˆ– MVVM æ¶æ§‹åœ–ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å‘Šè¨´æˆ‘ï¼
ä½ æƒ³å…ˆå¾å“ªå€‹éƒ¨åˆ†é–‹å§‹å¯¦ä½œæˆ–è¨­è¨ˆå‘¢ï¼Ÿ

ğŸ›  å»ºç«‹ Android Studio å°ˆæ¡ˆï¼ˆJava + MVVM æ¶æ§‹ï¼‰
1ï¸âƒ£ é–‹å•Ÿ Android Studio ä¸¦å»ºç«‹æ–°å°ˆæ¡ˆ

é–‹å•Ÿ Android Studioã€‚
é»é¸ "New Project"ã€‚
é¸æ“‡ "Empty Activity"ï¼Œé»é¸ã€ŒNextã€ã€‚
è¨­å®šå°ˆæ¡ˆè³‡è¨Šï¼š

Nameï¼šRacingGame
Package nameï¼šcom.example.racinggame
Languageï¼šJava
Minimum SDKï¼šAPI 24ï¼ˆä½ ä¹‹å‰å·²è¨­å®šéï¼‰


é»é¸ã€ŒFinishã€ï¼Œç­‰å¾…å°ˆæ¡ˆå»ºç«‹å®Œæˆã€‚


2ï¸âƒ£ å»ºç«‹ MVVM æ¶æ§‹çš„è³‡æ–™å¤¾çµæ§‹
åœ¨ app/src/main/java/com/example/racinggame ä¸‹å»ºç«‹ä»¥ä¸‹è³‡æ–™å¤¾ï¼š
Plain Textâ”œâ”€â”€ modelâ”œâ”€â”€ viewmodelâ”œâ”€â”€ viewâ”œâ”€â”€ repositoryâ”œâ”€â”€ utilé¡¯ç¤ºæ›´å¤šè¡Œ
ä½ å¯ä»¥åœ¨ Android Studio çš„ Project è¦–åœ–ä¸­å³éµé»é¸ com.example.racinggame â†’ New â†’ Packageï¼Œä¾åºå»ºç«‹ä¸Šè¿°è³‡æ–™å¤¾ã€‚

3ï¸âƒ£ å»ºç«‹åŸºæœ¬æª”æ¡ˆ
ä»¥ä¸‹æ˜¯ä½ å¯ä»¥å…ˆå»ºç«‹çš„å¹¾å€‹åˆå§‹ Java é¡åˆ¥ï¼š
âœ… GameViewModel.javaï¼ˆåœ¨ viewmodel è³‡æ–™å¤¾ï¼‰
Javapublic class GameViewModel extends ViewModel {    private MutableLiveData<Boolean> isGameStarted = new MutableLiveData<>(false);    public LiveData<Boolean> getIsGameStarted() {        return isGameStarted;    }    public void startGame() {        isGameStarted.setValue(true);        // TODO: è¼‰å…¥åœ°åœ–èˆ‡è³‡æº    }}é¡¯ç¤ºæ›´å¤šè¡Œ
âœ… MainActivity.javaï¼ˆåœ¨ view è³‡æ–™å¤¾ï¼‰
ä½ å¯ä»¥å°‡åŸæœ¬çš„ MainActivity ç§»è‡³ view è³‡æ–™å¤¾ï¼Œä¸¦ä¿®æ”¹ç‚ºå°å‘ GameFragmentã€‚

4ï¸âƒ£ åŠ å…¥ Navigation Componentï¼ˆå¯é¸ï¼‰
å¦‚æœä½ æ‰“ç®—ä½¿ç”¨å¤šå€‹ Fragmentï¼ˆä¾‹å¦‚æ’è¡Œæ¦œã€è¨­å®šï¼‰ï¼Œå»ºè­°åŠ å…¥ Navigation Componentï¼š

åœ¨ build.gradle åŠ å…¥ï¼š

Gradleimplementation "androidx.navigation:navigation-fragment:2.7.5"implementation "androidx.navigation:navigation-ui:2.7.5"é¡¯ç¤ºæ›´å¤šè¡Œ

å»ºç«‹ nav_graph.xmlï¼Œå®šç¾©ç•«é¢ä¹‹é–“çš„å°è¦½æµç¨‹ã€‚


5ï¸âƒ£ ä¸‹ä¸€æ­¥å»ºè­°
ä½ å¯ä»¥é¸æ“‡æ¥ä¸‹ä¾†è¦åšçš„é …ç›®ï¼Œä¾‹å¦‚ï¼š

å»ºç«‹ GameFragment ä¸¦å¯¦ä½œ UC01 çš„å€’æ•¸èˆ‡é–‹å§‹éŠæˆ²æµç¨‹
åŠ å…¥ Car.java èˆ‡æ§åˆ¶é‚è¼¯ï¼ˆUC02ï¼‰
å»ºç«‹ CollisionDetector.java è™•ç†ç¢°æ’ï¼ˆUC03ï¼‰


éœ€è¦æˆ‘å¹«ä½ ç”¢ç”Ÿåˆå§‹çš„ GameFragment æˆ– Car é¡åˆ¥å—ï¼Ÿé‚„æ˜¯ä½ æƒ³å…ˆå»ºç«‹å€’æ•¸è¨ˆæ™‚çš„ UIï¼Ÿæˆ‘å€‘å¯ä»¥ä¸€æ­¥ä¸€æ­¥ä¾†ã€‚ä½ æƒ³å…ˆåšå“ªä¸€éƒ¨åˆ†ï¼Ÿ
æä¾›æ‚¨å° BizChat çš„æ„è¦‹åæ‡‰
=======================================================================
ä»¥ä¸‹æ˜¯å®Œæ•´çš„ç¨‹å¼ç¢¼ï¼ŒåŒ…å«ï¼š

âœ… å°å…¥ View Binding
âœ… å»ºç«‹ GameFragment ä¸¦åŠ å…¥å€’æ•¸è¨ˆæ™‚é‚è¼¯ï¼ˆUC01ï¼‰
âœ… ä¿®æ”¹ MainActivity ä»¥è¼‰å…¥ GameFragment


ğŸ“¦ 1. å°å…¥ View Binding
ğŸ”§ build.gradleï¼ˆModule: appï¼‰
è«‹ç¢ºèªåŠ å…¥ä»¥ä¸‹è¨­å®šï¼š
Gradleandroid {    ...    buildFeatures {        viewBinding true    }}é¡¯ç¤ºæ›´å¤šè¡Œ
åŒæ­¥ Gradle å¾Œï¼ŒView Binding å°±æœƒå•Ÿç”¨ã€‚

ğŸ® 2. GameFragment.javaï¼ˆå«å€’æ•¸è¨ˆæ™‚ï¼‰
ğŸ”§ GameFragment.java
Javapackage com.example.racinggame.view;import android.os.Bundle;import android.os.CountDownTimer;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import androidx.annotation.NonNull;import androidx.annotation.Nullable;import androidx.fragment.app.Fragment;import com.example.racinggame.databinding.FragmentGameBinding;public class GameFragment extends Fragment {    private FragmentGameBinding binding;    @Nullable    @Override    public View onCreateView(@NonNull LayoutInflater inflater,                             @Nullable ViewGroup container,                             savedInstanceState) {        binding = FragmentGameBinding.inflate(inflater, container, false);        return binding.getRoot();    }    @Override    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {        super.onViewCreated(view, savedInstanceState);        binding.countdownText.setVisibility(View.VISIBLE);        startCountdown();    }    private void startCountdown() {        new CountDownTimer(4000, 1000) {            int count = 3;            public void onTick(long millisUntilFinished) {                if (count > 0) {                    binding.countdownText.setText(String.valueOf(count));                    count--;                } else {                    binding.countdownText.setText("Go!");                }            }            public void onFinish() {                binding.countdownText.setVisibility(View.GONE);                // TODO: é–‹å§‹éŠæˆ²é‚è¼¯            }        }.start();    }    @Override    public void onDestroyView() {        super.onDestroyView();        binding = null;    }}é¡¯ç¤ºæ›´å¤šè¡Œ

ğŸ”§ fragment_game.xml
XML<?xml version="1.0" encoding="utf-8"?><FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"    android:id="@+id/game_fragment_container"    android:layout_width="match_parent"    android:layout_height="match_parent"    android:background="#000000">    <TextView        android:id="@+id/countdownText"       layout_width="wrap_content"        android:layout_height="wrap_content"        android:text="3"        android:textSize="64sp"        android:textColor="#FFFFFF"        android:layout_gravity="center" /></FrameLayout>é¡¯ç¤ºæ›´å¤šè¡Œ

ğŸ§­ 3. ä¿®æ”¹ MainActivity å°å‘ GameFragment
ğŸ”§ MainActivity.java
Javapackage com.example.racinggame.view;import android.os.Bundle;import androidx.appcompat.app.AppCompatActivity;import androidx.fragment.app.FragmentManager;import com.example.racinggame.databinding.ActivityMainBinding;public class MainActivity extends AppCompatActivity {    private ActivityMainBinding binding;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        binding = ActivityMainBinding.inflate(getLayoutInflater());        setContentView(binding.getRoot());        // è¼‰å…¥ GameFragment        FragmentManager fragmentManager = getSupportFragmentManager();        fragmentManager.beginTransaction()                .replace(binding.fragmentContainer.getId(), new GameFragment())                .commit();    }}é¡¯ç¤ºæ›´å¤šè¡Œ

ğŸ”§ activity_main.xml
XML<?xml version="1.0" encoding="utf-8"?><FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"    android:id="@+id/fragment_container"    android:layout_width="match_parent"    android:layout_height="match_parent" />é¡¯ç¤ºæ›´å¤šè¡Œ

é€™æ¨£ä½ å°±å®Œæˆäº†ï¼š

å°ˆæ¡ˆå°å…¥ View Binding
MainActivity æˆåŠŸå°å‘ GameFragment
GameFragment é¡¯ç¤ºå€’æ•¸è¨ˆæ™‚ï¼ˆ3ã€2ã€1ã€Go!ï¼‰


æ¥ä¸‹ä¾†ä½ æƒ³åŠ å…¥è³½è»Šæ§åˆ¶ï¼ˆUC02ï¼‰ã€åœ°åœ–è¼‰å…¥ã€æˆ–æ˜¯éŠæˆ²å¾ªç’°å—ï¼Ÿæˆ‘å¯ä»¥å¹«ä½ ä¸€æ­¥æ­¥æ“´å……ã€‚ä½ æƒ³ç¹¼çºŒå“ªä¸€éƒ¨åˆ†ï¼Ÿ
===================================================
ç‚ºäº†ä½¿ç”¨ Navigation æ¶æ§‹ä¾†å°å‘ GameFragmentï¼Œæˆ‘å€‘éœ€è¦é€²è¡Œä»¥ä¸‹å¹¾å€‹æ­¥é©Ÿä¾†ä¿®æ­£ MainActivity ä¸¦æ•´åˆ Navigation Componentï¼š

âœ… æ­¥é©Ÿç¸½è¦½

åŠ å…¥ Navigation Component ä¾è³´
å»ºç«‹ Navigation Graph (nav_graph.xml)
å»ºç«‹ GameFragment
ä¿®æ”¹ MainActivity ä½¿ç”¨ NavHostFragment
ä½¿ç”¨ View Binding æ•´åˆç•«é¢


ğŸ“¦ 1. åŠ å…¥ Navigation ä¾è³´
åœ¨ build.gradleï¼ˆModule: appï¼‰ä¸­åŠ å…¥ï¼š
Gradledependencies {    implementation "androidx.navigation:navigation-fragment:2.7.5"    implementation "androidx.navigation:navigation-ui:2.7.5"}é¡¯ç¤ºæ›´å¤šè¡Œ
ç„¶å¾Œ Sync Gradleã€‚

ğŸ“„ 2. å»ºç«‹ Navigation Graph
åœ¨ res/navigation è³‡æ–™å¤¾ä¸­å»ºç«‹ nav_graph.xmlï¼š
XML<?xml version="1.0" encoding="utf-8"?><navigation xmlns:android="http://schemas.android.com/apk/res/android"    xmlns:app="http://schemas.android.com/apk/res-auto"    app:startDestination="@id/gameFragment">    <fragment        android:id="@+id/gameFragment"        android:name="com.example.racinggame.view.GameFragment"       layout/fragment_game" /></navigation>é¡¯ç¤ºæ›´å¤šè¡Œ

ğŸ§­ 3. ä¿®æ”¹ MainActivity ä½¿ç”¨ Navigation
ğŸ”§ activity_main.xml
XML<?xml version="1.0" encoding="utf-8"?><androidx.fragment.app.FragmentContainerView    xmlns:android="http://schemas.android.com/apk/res/android"    xmlns:app="http://schemas.android.com/apk/res-auto"    android:id="@+id/nav_host_fragment"    android:name="androidx.navigation.fragment.NavHostFragment"    android:layout_width="match_parent"   _parent"    app:navGraph="@navigation/nav_graph"    app:defaultNavHost="true" />``é¡¯ç¤ºæ›´å¤šè¡Œ

ğŸ”§ MainActivity.java
Javapackage com.example.racinggame.view;import android.os.Bundle;import androidx.appcompat.app.AppCompatActivity;import com.example.racinggame.databinding.ActivityMainBinding;public class MainActivity extends AppCompatActivity {    private ActivityMainBinding binding;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        binding = ActivityMainBinding.inflate(getLayoutInflater());        setContentView(binding.getRoot());        // ä¸éœ€è¦æ‰‹å‹•è¼‰å…¥ Fragmentï¼ŒNavHostFragment æœƒè‡ªå‹•è¼‰å…¥ nav_graph çš„ startDestination    }}``é¡¯ç¤ºæ›´å¤šè¡Œ

ğŸ® 4. GameFragmentï¼ˆå«å€’æ•¸è¨ˆæ™‚ï¼‰
é€™éƒ¨åˆ†ä½ å·²ç¶“æœ‰äº†ï¼Œæˆ‘å†è£œå…… ViewModel åˆå§‹åŒ–çš„éƒ¨åˆ†ï¼š
ğŸ”§ GameFragment.java
Javapackage com.example.racinggame.view;import android.os.Bundle;import android.os.CountDownTimer;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import androidx.annotation.NonNull;import androidx.annotation.Nullable;import androidx.fragment.app.Fragment;import androidx.lifecycle.ViewModelProvider;import com.example.racinggame.databinding.FragmentGameBinding;import com.example.racinggame.viewmodel.GameViewModel;public class GameFragment extends Fragment {    private FragmentGameBinding binding;    private GameViewModel viewModel;    @Nullable    @Override    public View onCreateView(@NonNull LayoutInflater inflater,                             @Nullable ViewGroup container,                             Bundle savedInstanceState) {        binding = FragmentGameBinding.inflate(inflater, container, false);        return binding.getRoot();    }    @Override    public void onViewCreated(@NonNull View view,                              @Nullable Bundle savedInstanceState) {        super.onViewCreated(view, savedInstanceState);        viewModel = new ViewModelProvider(this).get(GameViewModel.class);        binding.countdownText.setVisibility(View.VISIBLE);        startCountdown();    }    private void startCountdown() {        new CountDownTimer(4000, 1000) {            int count = 3;            public void onTick(long millisUntilFinished) {                if (count > 0) {                    binding.countdownText.setText(String.valueOf(count));                    count--;                } else {                    binding.countdownText.setText("Go!");                }            }            public void onFinish() {                binding.countdownText.setVisibility(View.GONE);                viewModel.startGame(); // é€šçŸ¥ ViewModel é–‹å§‹éŠæˆ²            }        }.start();    }    @Override    public void onDestroyView() {        super.onDestroyView();        binding = null;    }}é¡¯ç¤ºæ›´å¤šè¡Œ

é€™æ¨£ä½ å°±å®Œæˆäº†ï¼š

ä½¿ç”¨ Navigation Component å°å‘ GameFragment
ä½¿ç”¨ View Binding ç®¡ç† UI
åœ¨ GameFragment ä¸­åˆå§‹åŒ– ViewModel ä¸¦åŠ å…¥å€’æ•¸é‚è¼¯


æ¥ä¸‹ä¾†ä½ æƒ³åŠ å…¥å“ªå€‹åŠŸèƒ½ï¼Ÿä¾‹å¦‚ï¼š

è³½è»Šæ§åˆ¶ï¼ˆUC02ï¼‰
åœ°åœ–èˆ‡éšœç¤™ç‰©è¼‰å…¥
åˆ†æ•¸ç³»çµ±èˆ‡æ’è¡Œæ¦œ

æˆ‘å¯ä»¥å¹«ä½ ä¸€æ­¥æ­¥æ“´å……ï¼
======================================
ğŸ® UC02 - è³½è»Šæ§åˆ¶ï¼ˆControl Carï¼‰
ğŸ“¦ æ¶æ§‹è¨­è¨ˆ

Modelï¼šCar.javaï¼ˆåŒ…å«ä½ç½®ã€é€Ÿåº¦ã€æ–¹å‘ç­‰å±¬æ€§ï¼‰
ViewModelï¼šGameViewModel.javaï¼ˆè™•ç†æ§åˆ¶é‚è¼¯ï¼‰
Viewï¼šGameFragment.javaï¼ˆæ¥æ”¶æŒ‰éˆ•æˆ–æ„Ÿæ‡‰å™¨è¼¸å…¥ï¼‰

ğŸ”§ åŠŸèƒ½è¦é»

æ”¯æ´å·¦å³æŒ‰éˆ•æ§åˆ¶æ–¹å‘
å¯æ“´å……åŠ é€Ÿåº¦æ„Ÿæ‡‰å™¨ï¼ˆä½¿ç”¨ SensorManagerï¼‰
ViewModel æ¥æ”¶è¼¸å…¥ä¸¦æ›´æ–°è³½è»Šç‹€æ…‹ â†’ UI åæ˜ ä½ç½®è®ŠåŒ–


ğŸ—ºï¸ åœ°åœ–èˆ‡éšœç¤™ç‰©è¼‰å…¥
ğŸ“¦ æ¶æ§‹è¨­è¨ˆ

Modelï¼šTrack.java, Obstacle.java
ViewModelï¼šGameViewModel.java
Viewï¼šGameFragment.javaï¼ˆä½¿ç”¨ Canvas æˆ– SurfaceView ç¹ªè£½ï¼‰

ğŸ”§ åŠŸèƒ½è¦é»

åœ°åœ–å¯ç‚ºéœæ…‹èƒŒæ™¯æˆ– tile-based å‹•æ…‹åœ°åœ–
éšœç¤™ç‰©è³‡æ–™å¯å¾ JSON æˆ– XML è¼‰å…¥
ViewModel ç®¡ç†åœ°åœ–èˆ‡éšœç¤™ç‰©è³‡æ–™ â†’ æä¾›çµ¦ View ç¹ªè£½


ğŸ§® åˆ†æ•¸ç³»çµ±ï¼ˆScore Systemï¼‰
ğŸ“¦ æ¶æ§‹è¨­è¨ˆ

Modelï¼šScore.java
ViewModelï¼šScoreViewModel.java
Repositoryï¼šScoreRepository.javaï¼ˆä½¿ç”¨ Room å„²å­˜ï¼‰

ğŸ”§ åŠŸèƒ½è¦é»

æ ¹æ“šå‰é€²è·é›¢æˆ–æ“Šæ•—æ•µè»Šæ›´æ–°åˆ†æ•¸
ä½¿ç”¨ LiveData<Integer> æ¨é€åˆ†æ•¸è‡³ UI
éŠæˆ²çµæŸæ™‚å„²å­˜åˆ†æ•¸è‡³æ’è¡Œæ¦œ


ğŸ† æ’è¡Œæ¦œï¼ˆLeaderboardï¼‰
ğŸ“¦ æ¶æ§‹è¨­è¨ˆ

Modelï¼šLeaderboardEntry.java
ViewModelï¼šLeaderboardViewModel.java
Repositoryï¼šScoreRepository.java
Viewï¼šLeaderboardFragment.java

ğŸ”§ åŠŸèƒ½è¦é»

å¾ Room æˆ– Firebase è®€å–æ­·å²åˆ†æ•¸
é¡¯ç¤ºåæ¬¡èˆ‡åˆ†æ•¸åˆ—è¡¨
å¯æ’åºèˆ‡éæ¿¾ï¼ˆä¾‹å¦‚åªé¡¯ç¤ºæœ¬é€±æœ€é«˜åˆ†ï¼‰


âœ… ä¸‹ä¸€æ­¥å»ºè­°
æˆ‘å€‘å¯ä»¥ä¾ç…§ä»¥ä¸‹é †åºä¾†å¯¦ä½œï¼š

å»ºç«‹ Car.java èˆ‡ GameViewModel æ§åˆ¶é‚è¼¯ï¼ˆUC02ï¼‰
åŠ å…¥åœ°åœ–èˆ‡éšœç¤™ç‰©è¼‰å…¥é‚è¼¯
å»ºç«‹ ScoreViewModel èˆ‡åˆ†æ•¸æ›´æ–°æ©Ÿåˆ¶
å»ºç«‹ Room è³‡æ–™åº«èˆ‡æ’è¡Œæ¦œç•«é¢


ä½ æƒ³å…ˆå¾å“ªä¸€å€‹æ¨¡çµ„é–‹å§‹å¯¦ä½œï¼Ÿæˆ‘å¯ä»¥å¹«ä½ ç”¢ç”Ÿå®Œæ•´çš„ Java é¡åˆ¥èˆ‡ XML UIï¼Œä¾‹å¦‚ï¼š

Car.java + æ§åˆ¶é‚è¼¯
GameViewModel.java æ§åˆ¶æ–¹å‘èˆ‡ä½ç½®
GameFragment.java åŠ å…¥å·¦å³æŒ‰éˆ•æ§åˆ¶

è¦ä¸è¦æˆ‘å€‘å…ˆå¾ UC02 è³½è»Šæ§åˆ¶é–‹å§‹ï¼Ÿ